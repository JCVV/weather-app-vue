(function(e){function t(t){for(var r,s,o=t[0],u=t[1],c=t[2],f=0,p=[];f<o.length;f++)s=o[f],a[s]&&p.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/weather-app-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4afc":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("user-settings"),n("form",{on:{submit:function(t){return t.preventDefault(),e.formSubmitted()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],staticClass:"city-input",attrs:{type:"text",id:"searchInput",name:"searchInput",placeholder:"City Name"},domProps:{value:e.searchInput},on:{input:function(t){t.target.composing||(e.searchInput=t.target.value)}}})]),e.loading?n("section",[n("h1",[e._v("Loading...")])]):e.results?n("weather-info",e._b({attrs:{isAGoodDay:e.isAGoodDay}},"weather-info",e.weatherData,!1)):n("h2",[e._v(" No results for '"+e._s(e.weatherData.cityName)+"', try with other city.")])],1)},i=[],s=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),o=(n("7f7f"),n("2f62")),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"settings",class:{active:e.show}},[r("img",{staticClass:"settings",attrs:{src:n("81c6")},on:{click:function(t){e.show=!0}}}),r("transition",{attrs:{name:"modal-appear"}},[e.show?r("section",{staticClass:"modal-group"},[r("div",{staticClass:"modal-container"},[r("div",{staticClass:"modal-settings-list"},[r("p",[e._v("How would you describe a good day?")]),e._l(e.userPreferences,function(t,n){return r("p",{key:n},[r("label",[e._v(e._s(t.name)+":\n              "),r("input",{staticClass:"settings-input",attrs:{type:"range",min:t.min,max:t.max},domProps:{value:t.value},on:{input:function(t){return e.preferenceValueChanged(n,t)}}})]),r("span",[e._v(" "+e._s(t.value)+" "+e._s(t.units))])])})],2),r("button",{staticClass:"save-button",on:{click:function(t){return e.savePreferences()}}},[e._v("Save")])])]):e._e()])],1)},c=[],l="weather_preferences",f={setPreferences:function(e){var t=JSON.stringify(e);localStorage.setItem(l,t)},getPreferences:function(){var e=localStorage.getItem(l);return JSON.parse(e)}},p={name:"UserSettings",data:function(){return{show:!1}},computed:Object(o["b"])(["userPreferences"]),methods:{preferenceValueChanged:function(e,t){var n=t.target,r=n.value;this.$store.commit("setUserPreference",{index:e,value:parseInt(r,10)})},savePreferences:function(){f.setPreferences(this.userPreferences),this.show=!1}}},m=p,h=(n("7551"),n("2877")),d=Object(h["a"])(m,u,c,!1,null,"7b5ef36e",null),v=d.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"weather-info"},[n("h1",[e._v(e._s(e.cityName))]),e.isAGoodDay?n("h2",{staticClass:"weather-result"},[e._v("\n    What a lovely day! Time to go out!\n  ")]):n("h2",{staticClass:"weather-result"},[e._v("\n    What a bad day! Stay at home.\n  ")]),n("div",{staticClass:"temperature-info"},[n("div",{staticClass:"temperature-info-value"},[e._v(e._s(e.temperature)+"ºC")]),null!==e.icon?n("img",{staticClass:"temperature-info-icon",attrs:{src:e.icon}}):e._e()]),n("div",{staticClass:"extra-info"},e._l(e.extraInfo,function(t,r){return n("div",{key:r,staticClass:"extra-info-block"},[n("div",{staticClass:"extra-info-block-category"},[e._v(e._s(t.name))]),n("p",[e._v(e._s(t.value)+e._s(t.units))])])}),0)])},y=[],b=(n("c5f6"),{name:"WeatherInfo",props:{cityName:String,temperature:Number,icon:String,extraInfo:[Object],isAGoodDay:Boolean}}),w=b,x=(n("efc5"),Object(h["a"])(w,g,y,!1,null,"56180934",null)),O=x.exports,C="https://api.openweathermap.org/data/2.5/weather",P="fbe3ed9cc813fd7de1b68994d595b3e8",I="metric",j="https://ipinfo.io/geo",S="5720d9369e2d41",A={fetchUrl:function(e){return fetch(e).then(function(e){return e.json()})},getWeatherFromCity:function(e){var t="".concat(C,"?q=").concat(e,"&units=").concat(I,"&appid=").concat(P);return this.fetchUrl(t)},getWeatherFromCoords:function(e,t){var n="".concat(C,"?lat=").concat(e,"&lon=").concat(t,"&units=").concat(I,"&appid=").concat(P);return this.fetchUrl(n)},getCityName:function(){var e="".concat(j,"?token=").concat(S);return this.fetchUrl(e).then(function(e){var t=e.city;return t})},getIcon:function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")}};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){Object(s["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E={name:"App",components:{UserSettings:v,WeatherInfo:O},data:function(){return{searchInput:"",results:!1,loading:!0,temperature:"",weatherData:{cityName:"",icon:null,extraInfo:{minTemperature:{value:"",name:"Min Temperature",units:"ºC"},maxTemperature:{value:"",name:"Max Temperature",units:"ºC"},wind:{value:"",name:"Wind",units:"km/h"},humidity:{value:"",name:"Humidity",units:"%"}}}}},methods:{formSubmitted:function(){this.getWeatherInfo(this.searchInput)},getWeatherInfo:function(e){var t=this;return this.loading=!0,A.getWeatherFromCity(e).then(function(n){var r=n.main,a=n.weather,i=n.wind,s=n.name,o=n.cod;if(200===o){var u=a[0],c=t.weatherData.extraInfo;t.results=!0,t.searchInput="",t.weatherData.cityName=s,t.weatherData.icon=A.getIcon(u.icon),t.weatherData.temperature=Math.round(r.temp),c.minTemperature.value=Math.round(r.temp_min),c.maxTemperature.value=Math.round(r.temp_max),c.wind.value=i.speed,c.humidity.value=r.humidity}else t.weatherData.cityName=e,t.results=!1}).catch(function(){t.results=!1}).finally(function(){t.loading=!1})}},computed:D({},Object(o["b"])(["userPreferences"]),{isAGoodDay:function(){var e=this.weatherData.extraInfo,t=this.userPreferences.minTemp.value,n=this.userPreferences.maxTemp.value,r=this.userPreferences.maxWind.value,a=this.userPreferences.maxHumidity.value;return t<=this.weatherData.temperature&&this.weatherData.temperature<=n&&e.wind.value<=r&&e.humidity.value<=a}}),created:function(){var e=this,t=f.getPreferences();t&&Object.keys(t).forEach(function(n){e.$store.commit("setUserPreference",{index:n,value:parseInt(t[n].value,10)})})},mounted:function(){var e=this;A.getCityName().then(function(t){return e.getWeatherInfo(t)})}},U=E,N=(n("5c0b"),Object(h["a"])(U,a,i,!1,null,null,null)),R=N.exports;r["a"].use(o["a"]);var T=new o["a"].Store({state:{userPreferences:{minTemp:{name:"Low Temperature",value:15,min:0,max:30,units:"ºC"},maxTemp:{name:"High Temperature",value:30,min:0,max:50,units:"ºC"},maxWind:{name:"Max Wind Speed",value:20,min:0,max:20,units:"km/h"},maxHumidity:{name:"Max Humidity",value:20,min:0,max:100,units:"%"}}},mutations:{setUserPreference:function(e,t){var n=t.index,r=t.value;e.userPreferences[n].value=r},setAllUserPreferences:function(e,t){this.replaceState(t)}},actions:{}});r["a"].config.productionTip=!1,new r["a"]({store:T,render:function(e){return e(R)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),a=n.n(r);a.a},"5e27":function(e,t,n){},7551:function(e,t,n){"use strict";var r=n("4afc"),a=n.n(r);a.a},"81c6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAAAmJLR0QA/4ePzL8AAASjSURBVFjD5ZhNbFRVFMcfQgux0yJW0ECoaLFgiYHElM/EhU1caMJCrbjQhMaujAuIJBJEEwUi0PSDKSvUjRjrjrBRQyOhMZYNUJJigsTSlKlQZt793deZtjNMp++4mOl07pt506HSFXdW791z72/eOef+77nXsh7DxgmmkcxvSh1YGEgoixCEawuAUFW4xGWxZVlWOIBLQpY8esh2hP7sVw0h9sb/NaF+Xu2PrfS8a0b4KQs5j6gm0yK2Uu9Ta0tEjL3ECKLu85YRkVZEH84+HUPUV7n9TiP/ItxxaktG4CC4ul2Wpt9KGRcR/XYW8j7Cr+kIWZaU04qbGTU3JoO4FKnkIEmE66reeZHT2Agytn7GLrIBQbhHa2R1pI4rCFMcUlX0zolRa9OI0QrLsiy7Qd1CiDOFkOKi/tCwbeEyLkKCcYRBe1sm73oR7thr/APejDA59vTMczigv0eIcfz+s4UThC4SCGdV1cy7aDWTiN7rCxmt0H8jtBoTbY5WF3NwZLXabti3IdxM+8KnOa+SZNp5fd7J/xrTTKVdV8zsS4SQs2JeiKcYzk103yZL6EP4cV7q1o3w50xiF0/j9UwiestDI3YhxEpajJYV2UCKsXyHqU2qgxuMM84N1aE25UFqSDIZW1WaZ79F1NceJ5bTRcqQ+hRBKfdgziAcLQExtIwxkmbaSrnuQYirTnvraMVohb1NnSKB6B4TE6lDGJYn/D26XO1QLbqdPxB+8/R1IdzhFXP9EEIIeiz7EX2Bk7rZ3hqpNLuOG7ueq941Y0GKuInIYBKkVL0x08eGS4f5ZrYrhTDBFX7goN5NjSfgHYjqKPj1QUS3eyVWvcPndNNPHCE1a+wi/p7kL8RuKNRjb0MYKLLiBNeAFMn/GBIOFOoJBxCivpBFDwOJ+kFUFcLYQ0A8ueB111bf4mKgSH1jQJIILoOcU0dUk1cYVAeiThXEdyG6zROnjWoPxzjPbVyE5Ow0B7hGIieFm/JSOKE356XwFh7kpfAnOQn8gH5PnSlLVL3awzH1e4HFGEQImRi9hRFEdeYvRn7hqHpP1Rcp/oaW4eTJSpnuQUgQVNvDgXBA7aCLB4jukbICsrKoFMk+g6gjeQIZ9AjklOo0EYVH+kl9HSmihaRetzNAjBgDus2MRabWKV3q1SbiSL5WzTluJ8J4pK4EU1nKdUR/N6/t9yzCVe8uU+j/dCL84780i7VwQN1CODkX4g3cEkoa32Y3kMTlzSImsVXcQ/jMHBZ9pui0a9ROw2WHEO56Dx6537EfQc+WnM4KuhHGORF+rmA1sI7TJBB+ns1FVYWD6H3+gashhNCb1lynkRDCRKbgvsQHxh/6KFtwxxBCTmNOwR3ybnxmmVqbxkSrdRvTCH1OrfMCQWwEV6/Lqc3SR4eTkdVOLX3p00y0Oo2YPWIUx8QRkvpw9phTRi+id2e/ownRF7K9i/UXJDOj5kZkDgRDCIPs8go+B7NPR7wCYjdws2REOmP03rtPepKiBeFsNnrnELUn7+DRXOTwU7JoXM1CbiP2y4/+PmI5LhPpmiZSuUCXBZbFyIJfe1gWx40LnE8fx0us/wB+LlucmHMncAAAAABJRU5ErkJggg=="},c550:function(e,t,n){},efc5:function(e,t,n){"use strict";var r=n("c550"),a=n.n(r);a.a}});
//# sourceMappingURL=app.7d7c5d0a.js.map